<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Tuğba Arslan — Software Engineer</title>
  <meta name="description" content="Web & iOS geliştirme, siber güvenlik ve otomasyon çözümleri. Meta/Google reklam entegrasyonları, SEO ve hesap kurtarma.">
  <meta name="theme-color" content="#673AB7" />
  <link rel="canonical" href="https://tugba-site-static.vercel.app/">

  <!-- CSP -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline';
                 font-src 'self';
                 base-uri 'self';
                 form-action 'self';
                 object-src 'none';
                 frame-ancestors 'none';
                 upgrade-insecure-requests">

  <!-- OG / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Tuğba Arslan — Software Engineer">
  <meta property="og:description" content="Web & iOS geliştirme, siber güvenlik ve otomasyon çözümleri.">
  <meta property="og:url" content="https://tugba-site-static.vercel.app/">
  <meta property="og:image" content="https://tugba-site-static.vercel.app/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Tuğba Arslan — Software Engineer">
  <meta name="twitter:description" content="Web & iOS geliştirme, siber güvenlik ve otomasyon çözümleri.">
  <meta name="twitter:image" content="https://tugba-site-static.vercel.app/og-image.png">

  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23673AB7'/%3E%3Ctext x='50' y='58' text-anchor='middle' font-size='48' fill='white' font-family='Arial,Helvetica,sans-serif'%3ETA%3C/text%3E%3C/svg%3E">

  <link rel="stylesheet" href="styles.css" />

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Tuğba Arslan",
    "jobTitle": "Software Engineer",
    "url": "https://tugba-site-static.vercel.app/",
    "sameAs": ["https://github.com/tugbaarslanw","https://www.linkedin.com/in/tugbaarslanw/"]
  }
  </script>

  <style>
  :root{
    --fg:#0F1222; --muted:#667085; --bg:#FFFFFF;
    --heading:#000000; /* başlıklar kesin siyah */
    --accent-500:#673AB7; --accent-400:#AA42EF; --accent-300:#BB68F2;
    --card:#FFFFFF; --line:#E6E6EA; --surface:#F5EEFF;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --fg:#F3F4F6; --muted:#A1A1AA; --bg:#0E0B14;
      --card:#12101A; --line:#1E1A27; --surface:#1A1426;
    }
  }

  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  html{scroll-behavior:smooth}
  body{
    /* sayfa genel zemini – statik */
    background:linear-gradient(180deg,#F8F5FF 0%,#F3ECFF 35%,#FFFFFF 100%);
    color:var(--fg);
    font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,Helvetica,sans-serif;
  }
  .container{max-width:1100px;margin:0 auto;padding:0 24px}

  /* NAV */
  .topnav{
    position:sticky; top:0; z-index:200;
    background:linear-gradient(90deg,#8E2DE2 0%, #6A11CB 100%);
    -webkit-backdrop-filter:saturate(160%) blur(8px);
    backdrop-filter:saturate(160%) blur(8px);
    border-bottom:1px solid rgba(255,255,255,.12);
  }
  .topnav .wrap{max-width:1100px;margin:0 auto;padding:10px 24px;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none;font-weight:700}
  .brand .logo{height:28px;width:28px;border-radius:8px;background:#2B0F66;color:#fff;display:inline-flex;align-items:center;justify-content:center;font-size:14px}
  .menu{display:flex;gap:18px}
  .menu a{color:#fff;text-decoration:none;padding:8px 10px;border-radius:10px;opacity:.95}
  .menu a:hover{background:rgba(255,255,255,.10);opacity:1}

  /* ===== HERO (3D starfield sadece burada) ===== */
  header.hero{
    position:relative; overflow:hidden;
    padding:110px 0 40px; text-align:center;
    isolation:isolate;
  }
  /* 3D canvas arkaplan */
  .hero-canvas{
    position:absolute; inset:0; z-index:0; pointer-events:none;
    /* baz gradient – kanvas üzerine de boyuyoruz ama ilk boyama için */
    background:linear-gradient(180deg,#1d0b3f 0%, #2a0e6f 45%, #4b11bd 100%);
  }
  /* alt dalga */
  .wave{position:absolute; left:0; right:0; bottom:-1px; width:100%; height:120px; z-index:1; pointer-events:none}

  /* hero içerik */
  .hero-inner{position:relative; z-index:2; max-width:1000px; margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:10px}

  /* hero avatar */
  .hero-avatar{
    width:112px;height:112px;border-radius:50%;object-fit:cover;
    margin-bottom:10px;background:#eee;
    border:3px solid rgba(255,255,255,.9);
    box-shadow:0 10px 24px rgba(106,17,203,.25);
  }
  .hero-fallback{
    width:112px;height:112px;border-radius:50%;
    display:none;align-items:center;justify-content:center;
    font-weight:800;color:#fff;user-select:none;
    background:linear-gradient(135deg,#8E2DE2,#6A11CB);
    margin-bottom:10px; border:3px solid rgba(255,255,255,.9);
    box-shadow:0 10px 24px rgba(106,17,203,.25);
  }

  /* Başlıklar */
  header h1{
    margin:0 0 8px 0;
    font-size:clamp(44px,7vw,68px);
    font-weight:800;
    line-height:1.08;
    letter-spacing:-.015em;
    color:var(--heading);
  }
  /* yalnızca istenen başlıklar siyah */
  #services-title, #projects-title, #about-title, #about h3, header h1{
    color:#000 !important; text-shadow:none !important; filter:none !important;
  }

  p.lead{color:var(--muted);font-size:18px;margin:8px 0 0}
  section{padding:28px 0}

  /* CTA */
  .btn{display:inline-block;padding:12px 18px;border-radius:16px;background-image:linear-gradient(90deg,var(--accent-500),var(--accent-400));color:#fff;text-decoration:none;box-shadow:0 6px 16px rgba(170,66,239,.30);transition:transform .12s ease,filter .12s ease,box-shadow .12s ease}
  .btn:hover{transform:translateY(-1px);filter:brightness(1.04);box-shadow:0 10px 24px rgba(170,66,239,.38)}

  .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#F5EEFF;color:#3B0764}

  .grid{display:grid;gap:18px}
  .grid-3{grid-template-columns:repeat(1,minmax(0,1fr))}
  @media(min-width:860px){.grid-3{grid-template-columns:repeat(3,1fr)}}

  /* Kartlar (mor) */
  .card{
    color:#fff;
    background:linear-gradient(135deg,#8E2DE2 0%, #6A11CB 100%);
    border:none;border-radius:18px;padding:20px;
    box-shadow:0 14px 28px rgba(106,17,203,.24), 0 4px 10px rgba(106,17,203,.16);
    transition:transform .18s ease, box-shadow .18s ease, filter .18s ease;
  }
  .card:hover{transform:translateY(-4px);box-shadow:0 18px 36px rgba(106,17,203,.28), 0 6px 14px rgba(106,17,203,.18);filter:saturate(1.06)}

  .icon{height:48px;width:48px;border-radius:14px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.18);display:flex;align-items:center;justify-content:center}
  .icon svg [stroke]{stroke:#F5F3FF}
  .icon svg [fill="#6E31FF"]{fill:#F5F3FF}

  /* İletişim bölümü avatar */
  .avatar-wrap{display:flex;align-items:center;gap:14px;margin:12px 0 6px}
  .avatar{
    width:96px;height:96px;border-radius:50%;object-fit:cover;
    border:2px solid rgba(0,0,0,.08);
    box-shadow:0 10px 24px rgba(106,17,203,.18);
    background:#eee;
  }
  .avatar-fallback{
    width:96px;height:96px;border-radius:50%;
    display:none;align-items:center;justify-content:center;
    font-weight:800;color:#fff;user-select:none;
    background:linear-gradient(135deg,#8E2DE2,#6A11CB);
    box-shadow:0 10px 24px rgba(106,17,203,.18);
  }
  @media (prefers-color-scheme: dark){
    .avatar{border-color:rgba(255,255,255,.15)}
  }

  /* Footer */
  footer{padding:36px 0;text-align:center;color:var(--muted);border-top:1px solid var(--line);margin-top:24px;background:rgba(255,255,255,.65)}
  a.underline{text-decoration:underline;text-underline-offset:4px}
  </style>
</head>
<body>

  <!-- ÜST MENÜ -->
  <nav class="topnav" aria-label="Birincil">
    <div class="wrap">
      <a class="brand" href="/">
        <span class="logo" aria-hidden="true">TA</span>
        <span>Tuğba Arslan</span>
      </a>
      <div class="menu" role="menubar">
        <a role="menuitem" href="#services">Hizmetler</a>
        <a role="menuitem" href="#projects">Projeler</a>
        <a role="menuitem" href="#about">İletişim</a>
      </div>
    </div>
  </nav>

  <!-- HERO: 3D starfield yalnız burada -->
  <header class="hero">
    <!-- 3D Canvas -->
    <canvas id="hero-3d" class="hero-canvas" aria-hidden="true"></canvas>

    <!-- alt dalga -->
    <svg class="wave" viewBox="0 0 1440 120" preserveAspectRatio="none" aria-hidden="true">
      <path fill="#FFFFFF" d="M0,40 C120,70 240,90 360,90 C600,90 600,30 840,30 C1080,30 1080,100 1320,100 C1380,100 1440,94 1440,94 L1440,120 L0,120 Z"></path>
    </svg>

    <div class="hero-inner">
      <!-- Profil foto (başlığın üstünde) -->
      <img class="hero-avatar" src="avatar.jpg" alt="Tuğba Arslan profil fotoğrafı"
           onerror="this.style.display='none';document.getElementById('hero-fallback').style.display='inline-flex'">
      <span id="hero-fallback" class="hero-fallback" aria-hidden="true">TA</span>

      <h1>Tuğba Arslan</h1>
      <p class="lead">Software Engineer • Etik Hacker • Automation</p>
      <p style="margin-top:18px"><a class="btn" href="mailto:hello@tugbaarslan.com">İletişime Geç</a></p>
      <div style="margin-top:12px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
        <span class="chip">HTTPS</span><span class="chip">CSP</span><span class="chip">2FA</span><span class="chip">Rate Limit</span><span class="chip">WAF</span>
      </div>
    </div>
  </header>

  <main class="container">

    <!-- Hizmetler -->
    <section id="services" aria-labelledby="services-title">
      <h2 id="services-title">Hizmetler</h2>
      <div class="grid grid-3" style="margin-top:12px">

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <rect x="2.5" y="5" width="12" height="9.5" rx="2" stroke="#F5F3FF" stroke-width="2"/>
              <path d="M2.5 8.5H14.5" stroke="#F5F3FF" stroke-width="2"/>
              <rect x="16" y="3" width="5.5" height="18" rx="1.2" stroke="#F5F3FF" stroke-width="2"/>
              <circle cx="18.75" cy="18.5" r="0.6" fill="#F5F3FF"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">Web & iOS Geliştirme</h3>
          <p style="margin:0;opacity:.92">Next.js, Tailwind, SwiftUI, Firebase</p>
        </article>

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M12 3l7 3v5c0 5-3.5 9-7 10-3.5-1-7-5-7-10V6l7-3z" stroke="#F5F3FF" stroke-width="2" fill="none"/>
              <rect x="9" y="10" width="6" height="5" rx="1.5" stroke="#F5F3FF" stroke-width="2"/>
              <path d="M12 10V9a2 2 0 114 0v1" stroke="#F5F3FF" stroke-width="2"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">Siber Güvenlik (Pentest & Sertleştirme)</h3>
          <p style="margin:0;opacity:.92">Uygulama pentesti, güvenlik denetimi, hardening</p>
        </article>

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M12 8a4 4 0 100 8 4 4 0 000-8z" stroke="#F5F3FF" stroke-width="2"/>
              <path d="M12 2v3M12 19v3M4.9 4.9l2.1 2.1M17 17l2.1 2.1M2 12h3M19 12h3M4.9 19.1l2.1-2.1M17 7l2.1-2.1" stroke="#F5F3FF" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">Otomasyon & Entegrasyon</h3>
          <p style="margin:0;opacity:.92">Hesap açma/kapama, API entegrasyonları, RPA</p>
        </article>

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M3 12h14M3 6h10M3 18h18" stroke="#F5F3FF" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">Sosyal Medya & Reklam</h3>
          <p style="margin:0;opacity:.92">Meta/Google Ads, CAPI, GTM (Server-Side)</p>
        </article>

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M4 18V6m0 12c3-6 5-8 8-3s5-5 8-9" stroke="#F5F3FF" stroke-width="2" fill="none"/>
              <circle cx="4" cy="18" r="1.5" fill="#F5F3FF"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">SEO & Analytics</h3>
          <p style="margin:0;opacity:.92">Teknik SEO, GSC, GA4, Lighthouse</p>
        </article>

        <article class="card">
          <div class="icon" aria-hidden="true">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path d="M12 5l7 4v4c0 4-3 7-7 8-4-1-7-4-7-8V9l7-4z" stroke="#F5F3FF" stroke-width="2"/>
              <path d="M12 10v4" stroke="#F5F3FF" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <h3 style="margin:10px 0 4px">Hesap Kurtarma & Olay Müdahalesi</h3>
          <p style="margin:0;opacity:.92">Hesap geri alma, ihlal sonrası toparlama</p>
        </article>

      </div>
    </section>

    <!-- Projeler -->
    <section id="projects" aria-labelledby="projects-title">
      <h2 id="projects-title">Projeler</h2>
      <div class="grid grid-3" style="margin-top:12px">
        <article class="card">
          <h3 style="margin:0 0 4px">LinkPie</h3>
          <p style="margin:0;opacity:.92">Next.js, Firebase, Tailwind</p>
          <p style="margin:10px 0 0">
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">Demo</a> ·
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">GitHub</a>
          </p>
        </article>
        <article class="card">
          <h3 style="margin:0 0 4px">iOS Wallet Pass</h3>
          <p style="margin:0;opacity:.92">SwiftUI, Cloud Functions</p>
          <p style="margin:10px 0 0">
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">Demo</a> ·
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">GitHub</a>
          </p>
        </article>
        <article class="card">
          <h3 style="margin:0 0 4px">AdTech Toolkit</h3>
          <p style="margin:0;opacity:.92">GA4, GTM SS, CAPI</p>
          <p style="margin:10px 0 0">
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">Demo</a> ·
            <a class="underline" href="#" target="_blank" rel="noopener" style="color:#fff">GitHub</a>
          </p>
        </article>
      </div>
    </section>

    <!-- Hakkımda & İletişim -->
    <section id="about" aria-labelledby="about-title">
      <h2 id="about-title">Hakkımda & İletişim</h2>
      <p style="color:var(--muted)">
        Modern frontend, iOS ve güvenlik odaklı ürünler geliştiriyorum. Otomasyon ve veriyle karar almayı seviyorum; projelerde uçtan uca çözüm sunuyorum.
      </p>

      <h3>İletişim</h3>

      <!-- Bu bölümdeki profil alanı (değişmedi) -->
      <div class="avatar-wrap">
        <img id="avatar-img" class="avatar" src="avatar.jpg" alt="Tuğba Arslan profil fotoğrafı"
             loading="lazy"
             onerror="this.style.display='none';document.getElementById('avatar-fallback').style.display='inline-flex'">
        <span id="avatar-fallback" class="avatar-fallback" aria-hidden="true">TA</span>
      </div>

      <ul>
        <li>E-posta: <a class="underline" href="mailto:hello@tugbaarslan.com">hello@tugbaarslan.com</a></li>
        <li>
          <a class="underline" href="https://github.com/tugbaarslanw" target="_blank" rel="noopener">GitHub</a> ·
          <a class="underline" href="https://www.linkedin.com/in/tugbaarslanw/" target="_blank" rel="noopener">LinkedIn</a>
        </li>
      </ul>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="grid grid-3" style="text-align:center">
        <div>
          <strong>Hızlı Erişim</strong>
          <div style="margin-top:8px">
            <a class="underline" href="#services">Hizmetler</a> ·
            <a class="underline" href="#projects">Projeler</a> ·
            <a class="underline" href="#about">İletişim</a>
          </div>
        </div>

        <div>
          <strong>İletişim</strong>
          <div style="margin-top:8px">
            <a class="underline" href="mailto:hello@tugbaarslan.com">hello@tugbaarslan.com</a>
          </div>
        </div>

        <div>
          <strong>Güvenlik</strong>
          <div style="margin-top:8px">
            <a class="underline" href="mailto:hello@tugbaarslan.com?subject=Vulnerability%20Disclosure&body=K%C4%B1sa%20%C3%B6zet%3A%0AEtki%3A%0APoC%3A">
              Security Contact
            </a>
          </div>
        </div>
      </div>

      <div style="margin-top:18px; color:var(--muted);">
        © <span id="year"></span> Tuğba Arslan
      </div>
    </div>
  </footer>

  <script>
  // HERO 3D STARFIELD (WebGL’siz, performanslı perspektif projeksiyon)
  (function(){
    const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const canvas = document.getElementById('hero-3d');
    if(!canvas) return;
    const ctx = canvas.getContext('2d');

    let W=0, H=0, DPR=Math.min(window.devicePixelRatio||1, 2);
    let stars = [];
    let centerX=0, centerY=0, focal=0;

    function resize(){
      const rect = canvas.getBoundingClientRect();
      W = Math.max(1, Math.floor(rect.width * DPR));
      H = Math.max(1, Math.floor(rect.height * DPR));
      canvas.width = W; canvas.height = H;
      canvas.style.width = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
      centerX = W/2; centerY = H*0.46;
      focal   = Math.min(W,H)*0.62;

      // yıldız sayısını alanla ölçekle
      const count = prefersReduced ? 80 : Math.min(600, Math.round(W*H/8000));
      stars = new Array(count).fill(0).map(spawnStar);
    }

    function spawnStar(){
      const depth = Math.random()*1 + 0.2;
      return {
        x:(Math.random()-0.5)*2,   // -1..1
        y:(Math.random()-0.5)*2,
        z: depth,                  // 0.2..1.2
        vz: (0.0005 + Math.random()*0.0018) / (0.6 + Math.random()*1.2),
        size: 0.6 + Math.random()*1.6,
        hue: 265 + Math.random()*30,
        px:null, py:null           // önceki projeksiyon (kuyruk için)
      };
    }

    function drawBackground(){
      // derin mor gradient
      const g = ctx.createLinearGradient(0,0,0,H);
      g.addColorStop(0,'#1d0b3f');
      g.addColorStop(0.45,'#2a0e6f');
      g.addColorStop(1,'#4b11bd');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,W,H);

      // spot ışık (metin okunurluğu)
      const s = ctx.createRadialGradient(centerX, centerY, 10, centerX, centerY, Math.min(W,H)*0.65);
      s.addColorStop(0,'rgba(255,255,255,0.25)');
      s.addColorStop(1,'rgba(255,255,255,0.00)');
      ctx.fillStyle = s;
      ctx.fillRect(0,0,W,H);
    }

    let meteorT = Math.random()*6;
    function drawMeteor(dt){
      meteorT -= dt;
      if(meteorT<=0){
        meteorT = 6 + Math.random()*6;
        // bir kezlik atış
        const len = W*0.18;
        const y   = H*0.18 + Math.random()*H*0.08;
        const x0  = -len*0.6, x1 = x0 + len;
        const grad = ctx.createLinearGradient(x0,y, x1,y);
        grad.addColorStop(0,'rgba(255,255,255,0.0)');
        grad.addColorStop(0.2,'rgba(255,255,255,0.7)');
        grad.addColorStop(1,'rgba(255,255,255,0.0)');
        // animasyonu 0.7s boyunca çiz
        let t=0, dur=0.7;
        (function step(ts){
          t += ts;
          drawBackground(); // arka planı tekrar boya (ince bir overlay)
          // yıldızları tekrar çizmiyoruz ki maliyet artmasın -> sadece parlak çizgi overlay
          ctx.save();
          ctx.globalCompositeOperation='screen';
          ctx.translate(0,0);
          ctx.rotate(15*Math.PI/180);
          const p = Math.min(1, t/dur);
          ctx.strokeStyle = grad;
          ctx.lineWidth = 2*DPR;
          ctx.beginPath();
          ctx.moveTo(x0 + (x1-x0)*p - len*0.2, y);
          ctx.lineTo(x0 + (x1-x0)*p, y);
          ctx.stroke();
          ctx.restore();
          if(p<1 && !prefersReduced) requestAnimationFrame(step);
        })(0);
      }
    }

    let last=performance.now();
    function frame(now){
      const dt = Math.min(0.033, (now-last)/1000); // saniye
      last = now;

      drawBackground();

      // yıldızlar
      ctx.save();
      ctx.globalCompositeOperation='screen';
      for(let s of stars){
        // 3D -> 2D projeksiyon
        const invZ = 1/Math.max(0.05, s.z);
        const sx = centerX + (s.x*invZ)*focal;
        const sy = centerY + (s.y*invZ)*focal;
        const r  = Math.max(0.5, (s.size*invZ)*DPR);

        // kuyruk (önceki projeksiyon varsa)
        if(s.px!=null){
          ctx.strokeStyle = `hsla(${s.hue},90%,85%,${0.35*invZ})`;
          ctx.lineWidth = Math.max(0.5, r*0.6);
          ctx.beginPath();
          ctx.moveTo(sx, sy);
          ctx.lineTo(s.px, s.py);
          ctx.stroke();
        }
        s.px = sx; s.py = sy;

        // yıldız noktası
        ctx.fillStyle = `hsla(${s.hue},90%,88%,${0.9*invZ})`;
        ctx.beginPath();
        ctx.arc(sx, sy, r, 0, Math.PI*2);
        ctx.fill();

        // hareket
        s.z -= s.vz * (prefersReduced?0: (1 + 0.5*Math.sin(now/3000)));
        if(s.z<=0.06 || sx<-50 || sx>W+50 || sy<-50 || sy>H+50){
          Object.assign(s, spawnStar()); // yeniden doğur
        }
      }
      ctx.restore();

      drawMeteor(dt);

      if(!prefersReduced) requestAnimationFrame(frame);
    }

    const ro = new ResizeObserver(resize);
    ro.observe(canvas.parentElement);
    resize();
    requestAnimationFrame(frame);
  })();

  // footer yılı
  document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
